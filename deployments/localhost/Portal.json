{
  "address": "0x29Bbf1043Bd397a5c22e3D2cd39B6f8f3b06CD04",
  "abi": [
    {
      "inputs": [],
      "name": "AlreadyInit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotCaller",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "VM",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "caller",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32[]",
          "name": "commands",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes[]",
          "name": "state",
          "type": "bytes[]"
        }
      ],
      "name": "execute",
      "outputs": [
        {
          "internalType": "bytes[]",
          "name": "",
          "type": "bytes[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "init",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_VM",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_caller",
          "type": "address"
        },
        {
          "internalType": "bytes32[]",
          "name": "commands",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes[]",
          "name": "state",
          "type": "bytes[]"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    }
  ],
  "transactionHash": "0xef72cf9ef49b494df900b54bd7e6dd0720b3aed2bc980ce5d65fe6bad6b90e6d",
  "receipt": {
    "to": "0x4e59b44847b379578588920cA78FbF26c0B4956C",
    "from": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
    "contractAddress": null,
    "transactionIndex": 0,
    "gasUsed": "551450",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x3c019bfb5387e0851db0dc874f4807b8acd905c575ecc5d20365af4e82ed8670",
    "transactionHash": "0xef72cf9ef49b494df900b54bd7e6dd0720b3aed2bc980ce5d65fe6bad6b90e6d",
    "logs": [],
    "blockNumber": 14966082,
    "cumulativeGasUsed": "551450",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "c567dc2e50458cff86bf9fc720670fb0",
  "metadata": "{\"compiler\":{\"version\":\"0.8.11+commit.d7f03943\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"AlreadyInit\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotCaller\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"VM\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"caller\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"commands\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes[]\",\"name\":\"state\",\"type\":\"bytes[]\"}],\"name\":\"execute\",\"outputs\":[{\"internalType\":\"bytes[]\",\"name\":\"\",\"type\":\"bytes[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"init\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_VM\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_caller\",\"type\":\"address\"},{\"internalType\":\"bytes32[]\",\"name\":\"commands\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes[]\",\"name\":\"state\",\"type\":\"bytes[]\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Portal.sol\":\"Portal\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":2000},\"remappings\":[]},\"sources\":{\"contracts/Portal.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.11;\\n\\nlibrary PortalErrors {\\n    // Already initialized\\n    error AlreadyInit();\\n    // Not caller\\n    error NotCaller();\\n}\\n\\ninterface IVM {\\n    function execute(bytes32[] calldata commands, bytes[] memory state) external returns (bytes[] memory);\\n}\\n\\ncontract Portal {\\n    bool public init;\\n    address public caller;\\n    address public VM;\\n\\n    function initialize(\\n        address _VM,\\n        address _caller,\\n        bytes32[] calldata commands,\\n        bytes[] memory state\\n    ) external payable {\\n        if (init) revert PortalErrors.AlreadyInit();\\n        VM = _VM;\\n        init = true;\\n        caller = _caller;\\n        _execute(commands, state);\\n    }\\n\\n    function execute(bytes32[] calldata commands, bytes[] memory state) external returns (bytes[] memory) {\\n        if (caller != msg.sender) revert PortalErrors.NotCaller();\\n\\n        return _execute(commands, state);\\n    }\\n\\n    function _execute(bytes32[] calldata commands, bytes[] memory state) internal returns (bytes[] memory) {\\n        (bool success, bytes memory data) = VM.delegatecall(\\n            abi.encodeWithSelector(IVM.execute.selector, commands, state)\\n        );\\n        require(success);\\n\\n        return abi.decode(data, (bytes[]));\\n    }\\n}\\n\",\"keccak256\":\"0xff5bb7d7490388704166c683cbff07d00ed23aaf7e5d641448a7f009752a6100\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50610909806100206000396000f3fe60806040526004361061005a5760003560e01c8063de792d5f11610043578063de792d5f146100cb578063e1c7392a146100f8578063fc9c8d391461012257600080fd5b80631f7c1bac1461005f5780639293129814610074575b600080fd5b61007261006d3660046105ae565b610154565b005b34801561008057600080fd5b506001546100a19073ffffffffffffffffffffffffffffffffffffffff1681565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b3480156100d757600080fd5b506100eb6100e6366004610639565b610221565b6040516100c2919061073f565b34801561010457600080fd5b506000546101129060ff1681565b60405190151581526020016100c2565b34801561012e57600080fd5b506000546100a190610100900473ffffffffffffffffffffffffffffffffffffffff1681565b60005460ff1615610191576040517fef34ca5c00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600180547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff878116919091178255600080547fffffffffffffffffffffff000000000000000000000000000000000000000000166101009288169290920291909117909117905561021983838361028d565b505050505050565b600054606090610100900473ffffffffffffffffffffffffffffffffffffffff16331461027a576040517f16c618d800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61028584848461028d565b949350505050565b600154604051606091600091829173ffffffffffffffffffffffffffffffffffffffff16907fde792d5f00000000000000000000000000000000000000000000000000000000906102e690899089908990602401610759565b60408051601f198184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090941693909317909252905161035191906107ca565b600060405180830381855af49150503d806000811461038c576040519150601f19603f3d011682016040523d82523d6000602084013e610391565b606091505b5091509150816103a057600080fd5b808060200190518101906103b491906107e6565b9695505050505050565b803573ffffffffffffffffffffffffffffffffffffffff811681146103e257600080fd5b919050565b60008083601f8401126103f957600080fd5b50813567ffffffffffffffff81111561041157600080fd5b6020830191508360208260051b850101111561042c57600080fd5b9250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561048b5761048b610433565b604052919050565b600067ffffffffffffffff8211156104ad576104ad610433565b5060051b60200190565b600067ffffffffffffffff8211156104d1576104d1610433565b50601f01601f191660200190565b600082601f8301126104f057600080fd5b8135602061050561050083610493565b610462565b82815260059290921b8401810191818101908684111561052457600080fd5b8286015b848110156105a357803567ffffffffffffffff8111156105485760008081fd5b8701603f8101891361055a5760008081fd5b84810135604061056c610500836104b7565b8281528b828486010111156105815760008081fd5b8282850189830137600092810188019290925250845250918301918301610528565b509695505050505050565b6000806000806000608086880312156105c657600080fd5b6105cf866103be565b94506105dd602087016103be565b9350604086013567ffffffffffffffff808211156105fa57600080fd5b61060689838a016103e7565b9095509350606088013591508082111561061f57600080fd5b5061062c888289016104df565b9150509295509295909350565b60008060006040848603121561064e57600080fd5b833567ffffffffffffffff8082111561066657600080fd5b610672878388016103e7565b9095509350602086013591508082111561068b57600080fd5b50610698868287016104df565b9150509250925092565b60005b838110156106bd5781810151838201526020016106a5565b838111156106cc576000848401525b50505050565b600081518084526020808501808196508360051b8101915082860160005b8581101561073257828403895281518051808652610713818888018985016106a2565b99860199601f01601f19169490940185019350908401906001016106f0565b5091979650505050505050565b60208152600061075260208301846106d2565b9392505050565b6040815282604082015260007f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff84111561079257600080fd5b8360051b808660608501378083019050606081016000815260608483030160208501526107bf81866106d2565b979650505050505050565b600082516107dc8184602087016106a2565b9190910192915050565b600060208083850312156107f957600080fd5b825167ffffffffffffffff8082111561081157600080fd5b818501915085601f83011261082557600080fd5b815161083361050082610493565b81815260059190911b8301840190848101908883111561085257600080fd5b8585015b838110156108c65780518581111561086e5760008081fd5b8601603f81018b136108805760008081fd5b878101516040610892610500836104b7565b8281528d828486010111156108a75760008081fd5b6108b6838c83018487016106a2565b8652505050918601918601610856565b509897505050505050505056fea264697066735822122059918cb3993f23e291f6cda1e589a95926b209e6820cd02489794fb7e1592d9064736f6c634300080b0033",
  "deployedBytecode": "0x60806040526004361061005a5760003560e01c8063de792d5f11610043578063de792d5f146100cb578063e1c7392a146100f8578063fc9c8d391461012257600080fd5b80631f7c1bac1461005f5780639293129814610074575b600080fd5b61007261006d3660046105ae565b610154565b005b34801561008057600080fd5b506001546100a19073ffffffffffffffffffffffffffffffffffffffff1681565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b3480156100d757600080fd5b506100eb6100e6366004610639565b610221565b6040516100c2919061073f565b34801561010457600080fd5b506000546101129060ff1681565b60405190151581526020016100c2565b34801561012e57600080fd5b506000546100a190610100900473ffffffffffffffffffffffffffffffffffffffff1681565b60005460ff1615610191576040517fef34ca5c00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600180547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff878116919091178255600080547fffffffffffffffffffffff000000000000000000000000000000000000000000166101009288169290920291909117909117905561021983838361028d565b505050505050565b600054606090610100900473ffffffffffffffffffffffffffffffffffffffff16331461027a576040517f16c618d800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61028584848461028d565b949350505050565b600154604051606091600091829173ffffffffffffffffffffffffffffffffffffffff16907fde792d5f00000000000000000000000000000000000000000000000000000000906102e690899089908990602401610759565b60408051601f198184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090941693909317909252905161035191906107ca565b600060405180830381855af49150503d806000811461038c576040519150601f19603f3d011682016040523d82523d6000602084013e610391565b606091505b5091509150816103a057600080fd5b808060200190518101906103b491906107e6565b9695505050505050565b803573ffffffffffffffffffffffffffffffffffffffff811681146103e257600080fd5b919050565b60008083601f8401126103f957600080fd5b50813567ffffffffffffffff81111561041157600080fd5b6020830191508360208260051b850101111561042c57600080fd5b9250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561048b5761048b610433565b604052919050565b600067ffffffffffffffff8211156104ad576104ad610433565b5060051b60200190565b600067ffffffffffffffff8211156104d1576104d1610433565b50601f01601f191660200190565b600082601f8301126104f057600080fd5b8135602061050561050083610493565b610462565b82815260059290921b8401810191818101908684111561052457600080fd5b8286015b848110156105a357803567ffffffffffffffff8111156105485760008081fd5b8701603f8101891361055a5760008081fd5b84810135604061056c610500836104b7565b8281528b828486010111156105815760008081fd5b8282850189830137600092810188019290925250845250918301918301610528565b509695505050505050565b6000806000806000608086880312156105c657600080fd5b6105cf866103be565b94506105dd602087016103be565b9350604086013567ffffffffffffffff808211156105fa57600080fd5b61060689838a016103e7565b9095509350606088013591508082111561061f57600080fd5b5061062c888289016104df565b9150509295509295909350565b60008060006040848603121561064e57600080fd5b833567ffffffffffffffff8082111561066657600080fd5b610672878388016103e7565b9095509350602086013591508082111561068b57600080fd5b50610698868287016104df565b9150509250925092565b60005b838110156106bd5781810151838201526020016106a5565b838111156106cc576000848401525b50505050565b600081518084526020808501808196508360051b8101915082860160005b8581101561073257828403895281518051808652610713818888018985016106a2565b99860199601f01601f19169490940185019350908401906001016106f0565b5091979650505050505050565b60208152600061075260208301846106d2565b9392505050565b6040815282604082015260007f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff84111561079257600080fd5b8360051b808660608501378083019050606081016000815260608483030160208501526107bf81866106d2565b979650505050505050565b600082516107dc8184602087016106a2565b9190910192915050565b600060208083850312156107f957600080fd5b825167ffffffffffffffff8082111561081157600080fd5b818501915085601f83011261082557600080fd5b815161083361050082610493565b81815260059190911b8301840190848101908883111561085257600080fd5b8585015b838110156108c65780518581111561086e5760008081fd5b8601603f81018b136108805760008081fd5b878101516040610892610500836104b7565b8281528d828486010111156108a75760008081fd5b6108b6838c83018487016106a2565b8652505050918601918601610856565b509897505050505050505056fea264697066735822122059918cb3993f23e291f6cda1e589a95926b209e6820cd02489794fb7e1592d9064736f6c634300080b0033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 60,
        "contract": "contracts/Portal.sol:Portal",
        "label": "init",
        "offset": 0,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 62,
        "contract": "contracts/Portal.sol:Portal",
        "label": "caller",
        "offset": 1,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 64,
        "contract": "contracts/Portal.sol:Portal",
        "label": "VM",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      }
    }
  }
}